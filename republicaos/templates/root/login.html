<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:xi="http://www.w3.org/2001/XInclude"
      xmlns:py="http://genshi.edgewall.org/">

<head>
    <title>Republicaos - Login | Criação de Conta</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />

    <link rel="stylesheet" href="${h.url('/css/blueprint/screen.css')}" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="${h.url('/css/blueprint/print.css')}" type="text/css" media="print" />
    <!--[if lt IE 8]><link rel="stylesheet" href="${h.url('/css/blueprint/ie.css')}" type="text/css" media="screen, projection" /><![endif]-->

    <link rel="stylesheet" href="${h.url('/css/republicaos.css')}" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="${h.url('/css/buttons.css')}" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="${h.url('/css/avisos.css')}" type="text/css" media="screen, projection" />
    
    <xi:include href="../include/scripts.html" />
    
    <script type="text/javascript"> 
         
        $(document).ready(function() {
            $("input[name='nova_conta']").change(function () {
                if ($(this).attr('checked')) {
                    $('form').attr('action', "${h.url(controller='pessoa', action='new')}");
                    $(".login").hide();
                    $(".login [required]").attr("disabled", "disabled");
                    $(".nova_conta").show();
                    $(".nova_conta [required]").removeAttr("disabled");
                } else {
                    $('form').attr('action', "${h.url(controller='root', action='login')}");
                    $(".nova_conta").hide();
                    $(".nova_conta [required]").attr("disabled", "disabled");
                    $(".login").show();
                    $(".login [required]").removeAttr("disabled");
                }
            });
            $("input[name='nova_conta']").change();
        });

    </script> 

</head>

<body>
    <xi:include href="../include/header.html" />
    
    <div class="main">
        <div class="container">
            <div class="span-24">
                <xi:include href="../include/flash.html" />
                <!--
                <h1 class="titulo">Login</h1>
                -->
                <br />
                <div class="span-12 box shadow">
                    <h2 class="login">Login</h2>
                    <h2 class="nova_conta">Nova Conta</h2>
                    <hr />
                    <p><input type="checkbox" name="nova_conta" /> Ainda não tenho uma conta<br /></p>
                    
                    <form name="unico" method="post" action="">
                        <p>
                            <label for="Email">E-mail <span class="required">*</span></label><br />
                            <!--
                            Genshi ainda não funciona com html5
                            -->
                            <input class="text" type="email" name="email" size="20" required="required" autofocus="autofocus" />
                            <py:if test="c.errors and c.errors.get('email', None)">
                                <br />
                                <span class="error-message" id="erro_email" py:content="c.errors['email']"></span>
                            </py:if>
                        </p>

                        <p>
                            <label for="senha">Senha <span class="required">*</span> <img src="/images/info-16x16-2.png" class="tip" tip_ref="#tip_nova_senha" /></label><br />
                            <input class="text" type="password" name="senha" required="required" pattern="[^\s]{4,}" />
                            <py:if test="c.errors and c.errors.get('senha', None)">
                                <br />
                                <span class="error-message" id="erro_senha" py:content="c.errors['senha']"></span>
                            </py:if>
                        </p>

                        <p class="login">
                            <input type="checkbox" name="keep_connected" /> Me mantenha conectado <img src="/images/info-16x16-2.png" class="tip" tip_ref="#tip_keep_connected" />
                        </p>

                        <div class="nova_conta">
                        <p>
                            <label for="confirmacao_senha">Confirmação da Senha <span class="required">*</span></label><br />
                            <input class="text" type="password" name="confirmacao_senha" size="10" required="required" />
                            <py:if test="c.errors and c.errors.get('confirmacao_senha', None)">
                                <br />
                                <span class="error-message" id="erro_confirmacao_senha" py:content="c.errors['confirmacao_senha']"></span>
                            </py:if>
                        </p>

                        <p>
                            <label for="nome">Nome ou Apelido <span class="required">*</span> <img src="/images/info-16x16-2.png" class="tip" tip_ref="#tip_apelido" /></label><br />
                            <input class="text" type="text" name="nome" required="required" />
                            <py:if test="c.errors and c.errors.get('nome', None)">
                                <br />
                                <span class="error-message" id="erro_nome" py:content="c.errors['nome']"></span>
                            </py:if>
                        </p>

                        <p>
                            <label for="captcha">${c.captcha} <span class="required">*</span> <img src="/images/info-16x16-2.png" class="tip" tip_ref="#tip_captcha" /></label><br />
                            <input class="text" type="text" name="captcha" size="10" required="required" />
                            <input type="hidden" name="captcha_md5" value="${c.captcha_md5}" />
                            <py:if test="c.errors and c.errors.get('captcha', None)">
                                <br />
                                <span class="error-message" id="erro_captcha" py:content="c.errors['captcha']"></span>
                            </py:if>
                        </p>
                        <p>
                            <input type="checkbox" name="aceito_termos" required="required" /> Li e aceito os <a href="${h.url(controller='root', action='termos_uso')}">termos de Uso</a> <span class="required">*</span>
                        </p>
                            <py:if test="c.errors and c.errors.get('aceito_termos', None)">
                                <br />
                                <span class="error-message" id="erro_aceito_termos" py:content="c.errors['aceito_termos']"></span>
                            </py:if>
                        </div>

                        
                        <hr />

                        <p class="login">Esqueceu sua senha? Informe seu e-mail e <a href="/pessoa/esqueceu_senha">clique aqui</a> para criar uma nova senha</p>
                        <p class="small"><span class="required">*</span> preenchimento do campo é obrigatório</p>
                        
                        <p class="bottom login"><button type="submit" class="launch bottom"><h6>Entrar</h6></button></p>
                        <p class="bottom nova_conta"><button type="submit" class="launch bottom"><h6>Criar Conta</h6></button></p>
                    </form>
                </div>

            </div>
        </div>
    </div>
     <div id="tip_apelido" style="display:none">
        <p class="bottom">Será usado para lhe identificar no Republicaos</p>
    </div>
     <div id="tip_keep_connected" style="display:none">
        <p class="bottom">Da próxima vez que você entrar no Republicaos através desse computador,<br />você já vai ser logado automaticamente</p>
    </div>
    <div id="tip_nova_senha" style="display:none">
        <p class="bottom">A senha deve ter mais de 4 caracteres ou mais e pode conter letras, números e pontuação</p>
    </div>
    <div id="tip_captcha" style="display:none">
        <p class="bottom">Captcha para evitar SPAM, provando que você é humano e não um programa! :-)</p>
    </div>
    
    <xi:include href="../include/footer.html" />
</body>
</html>
